(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{127:function(t,e,n){},128:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n(19),o=n.n(a),i=n(20),u=n(8),s=n(6),b=n(21),j=n(131),l=n(28),O=n.n(l);var f=function(t){var e=t.label,n=t.name,r=void 0===n?e.toLowerCase():n,a=t.value,o=t.onChange,i=t.autoComplete,u=void 0===i?null:i,b=t.type,j=void 0===b?"text":b,l=t.props;return Object(c.jsxs)("div",{className:O.a.container,children:[Object(c.jsx)("input",Object(s.a)({id:e,className:O.a.input,type:j,name:r,value:a,onChange:o,autoComplete:u,placeholder:" "},l)),Object(c.jsx)("label",{htmlFor:e,className:O.a.label,children:e})]})},d=n(48),h=n.n(d),m=n(130),p=n(49),x=n.n(p),_=n(50),g=n.n(_),v=function(t){return function(e){return Object(c.jsx)(m.a,Object(s.a)(Object(s.a)({in:!0,appear:!!e.appear,timeout:e.timeout||250,classNames:e.rightTransition?g.a:x.a,unmountOnExit:!0},e),{},{children:Object(c.jsx)(t,Object(s.a)(Object(s.a)({},e),{},{children:r.Children}))}))}};var A=v((function(t){var e=t.text,n=void 0===e?"Something gone wrong":e;return Object(c.jsx)("div",{className:h.a.container,children:Object(c.jsx)("p",{children:n})})})),w=n(51),C=n.n(w),y=function(t){var e=Object(r.useState)(t),n=Object(b.a)(e,2),c=n[0],a=n[1];return{value:c,onChange:function(t){return t.target?a(t.target.value):a(t)}}},S=n(14),N=n.n(S),k=n(3),L=Object(k.b)("contacts/filter"),T=Object(k.b)("contacts/itemsRequest"),R=Object(k.b)("contacts/itemsSuccess"),F=Object(k.b)("contacts/itemsError"),E=Object(k.b)("contacts/addItemRequest"),z=Object(k.b)("contacts/addItemSuccess"),I=Object(k.b)("contacts/addItemError"),D=Object(k.b)("contacts/deleteRequest"),q=Object(k.b)("contacts/deleteSuccess"),U=Object(k.b)("contacts/deleteError"),P=function(t){return t.contacts.items},H=function(t){return t.contacts.filter},Q=function(t){return t.contacts.loading},B=function(t){return P(t).filter((function(e){return e.name?e.name.toLowerCase().includes(H(t).toLocaleLowerCase()):[]}))},Z=n(52),K=n.n(Z);var M=function(t){var e=t.text,n=t.props;return Object(c.jsx)("button",Object(s.a)(Object(s.a)({className:K.a.button,type:"submit"},n),{},{children:e}))},Y="",J="",V=!1;var W={onSetContacts:function(t){return function(e){e(E()),N.a.post("/contacts",t).then((function(t){var n=t.data;return e(z(n))})).catch((function(t){return e(I(t.message))}))}}},X=Object(u.b)((function(t){return{contacts:P(t)}}),W)((function(t){var e=t.contacts,n=t.onSetContacts,a=y(""),o=y(""),i=Object(r.useState)(!1),u=Object(b.a)(i,2),l=u[0],O=u[1],d=a.value&&o.value?"".concat(a.value," is already in contacts."):"Please enter the contact.";return Object(c.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),!a.value||e.find((function(t){return t.name===a.value})))return O(!0),setTimeout((function(){O(!1)}),2e3);n({id:Object(j.a)(),name:a.value,number:o.value}),a.onChange(Y),o.onChange(J),O(V)},className:C.a.container,children:[Object(c.jsx)(A,{in:l,text:d,rightTransition:!0}),Object(c.jsx)(f,Object(s.a)({label:"Name"},a)),Object(c.jsx)(f,Object(s.a)({label:"Number"},o)),Object(c.jsx)(M,{text:"Add contact"})]})})),G=n(132),$=n(53),tt=n(54),et=n.n(tt);var nt=function(t){var e=t.onClick;return Object(c.jsx)("button",{className:et.a.button,onClick:e})},ct=n(55),rt=n.n(ct);var at=v((function(t){var e=t.contact,n=t.onDeleteContacts,r=e.id,a=e.name,o=e.number;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:rt.a.item,children:["".concat(a,": ").concat(o),Object(c.jsx)(nt,{onClick:function(){return n(r)}})]})})})})),ot=n(33),it=n.n(ot);var ut={onDeleteContacts:function(t){return function(e){e(D()),N.a.delete("/contacts/".concat(t)).then(e(q(t))).catch((function(t){return e(U(t.message))}))}}},st=Object(u.b)((function(t){return{contacts:B(t),loading:Q(t)}}),ut)((function(t){var e=t.contacts,n=t.onDeleteContacts,a=t.loading,o=Object(r.useState)(!1),i=Object(b.a)(o,2),u=i[0],s=i[1];return Object(r.useEffect)((function(){s(e[0])}),[e]),Object(c.jsx)(c.Fragment,{children:u&&Object(c.jsxs)(c.Fragment,{children:[a&&Object(c.jsx)("div",{className:it.a.loading,children:Object(c.jsx)($.Facebook,{size:50})}),Object(c.jsx)(G.a,{component:"ul",className:it.a.container,children:e.map((function(t){return Object(c.jsx)(at,{contact:t,onDeleteContacts:n},t.id)}))})]})})})),bt=n(56),jt=n.n(bt),lt=function(t){return function(e){return Object(c.jsx)(m.a,{in:e.isShow,timeout:250,classNames:jt.a,unmountOnExit:!0,children:Object(c.jsx)(t,Object(s.a)({},e))})}};lt.defaultProps={isShow:!0};var Ot=lt,ft=n(57),dt=n.n(ft);var ht={onChange:L},mt=Object(u.b)((function(t,e){return{filter:H(t)}}),ht)(Ot((function(t){var e=t.filter,n=void 0===e?"":e,r=t.onChange;return Object(c.jsx)("div",{className:dt.a.container,children:Object(c.jsx)(f,{label:"Find contacts by name",name:"filter",value:n,onChange:function(t){var e=t.target;return r(e.value)},autoComplete:"off"})})}))),pt=n(58),xt=n.n(pt);var _t=v((function(){return Object(c.jsx)("h1",{className:xt.a.color,children:"Phonebook"})})),gt=n(59),vt=n.n(gt);var At=Object(u.b)((function(t){return{contacts:P(t)}}),(function(t){return{fetchContacts:function(){return t((function(t){t(T()),N()("/contacts").then((function(e){var n=e.data;return t(R(n))})).catch((function(e){return t(F(e.message))}))}))}}}))((function(t){var e=t.contacts,n=t.fetchContacts;return Object(r.useEffect)((function(){n()}),[]),Object(c.jsxs)("div",{className:vt.a.container,children:[Object(c.jsx)(_t,{appear:!0,timeout:500}),Object(c.jsx)(X,{}),Object(c.jsx)("h2",{children:"Contacts"}),e.length>0&&Object(c.jsx)(mt,{isShow:e.length>1}),Object(c.jsx)(st,{})]})})),wt=function(t){return t.user.email},Ct=function(t){return t.user.token},yt=function(t){return t.user.isAuthorized},St={contacts:"/contacts",register:"/register",login:"/login"},Nt=n(5),kt=n.n(Nt),Lt=Object(k.b)("user/singUpRequest"),Tt=Object(k.b)("user/singUpSuccess"),Rt=Object(k.b)("user/singUpError"),Ft=Object(k.b)("user/loginRequest"),Et=Object(k.b)("user/loginSuccess"),zt=Object(k.b)("user/loginError"),It=Object(k.b)("user/isAuthorizedRequest"),Dt=Object(k.b)("user/isAuthorizedSuccess"),qt=Object(k.b)("user/isAuthorizedError"),Ut=Object(k.b)("user/logoutRequest"),Pt=Object(k.b)("user/logoutSuccess"),Ht=Object(k.b)("user/logoutError"),Qt=Object(k.b)("user/currentUserRequest"),Bt=Object(k.b)("user/currentUserSuccess"),Zt=Object(k.b)("user/currentUserError"),Kt=function(t){return N.a.defaults.headers.Authorization=t},Mt=function(){return N.a.defaults.headers.Authorization=""};function Yt(t){var e=t.email,n=t.onLogout;return Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{style:{marginRight:"20px"},children:e}),Object(c.jsx)("button",{onClick:n,children:"\u0412\u044b\u0439\u0442\u0438 "})]})}Yt.prototype={mail:kt.a.string,onLogout:kt.a.func};var Jt={onLogout:function(t){return function(t){t(Ut()),N.a.post("/users/logout").then((function(){t(Pt()),Mt()})).catch((function(e){return t(Ht(e.massage))}))}}},Vt=Object(u.b)((function(t){return{email:wt(t)}}),Jt)(Yt),Wt=n(23),Xt=n.n(Wt);var Gt=Object(u.b)((function(t){return{isAuthorized:yt(t)}}))((function(t){var e=t.isAuthorized,n=t.location;return Object(c.jsxs)("nav",{className:Xt.a.container,children:[Object(c.jsx)("ul",{className:Xt.a.list,children:e?Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:St.contacts,children:"Contacts"})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:St.register,className:n.pathname===St.register?Xt.a.active:void 0,children:"Register"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{className:n.pathname===St.login?Xt.a.active:void 0,to:St.login,children:"Login"})})]})}),e&&Object(c.jsx)(Vt,{className:Xt.a.menu})]})})),$t=n(60),te=n.n($t);var ee={onLogin:function(t){return function(e){e(Ft()),N.a.post("/users/login",t).then((function(t){var n=t.data;e(Et(n)),Kt(n.token)})).catch((function(t){return e(zt(t.massage))}))}}},ne=Object(u.b)(null,ee)((function(t){var e=t.onLogin,n=y(""),r=y("");return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=new FormData(t.target),c={email:n.get("email"),password:n.get("password")};e(c)},className:te.a.form,children:[Object(c.jsx)(f,Object(s.a)({label:"Email",type:"email"},n)),Object(c.jsx)(f,Object(s.a)({label:"Password",type:"password"},r)),Object(c.jsx)(M,{type:"submit",text:"\u0412\u043e\u0439\u0442\u0438"})]})})),ce=n(61),re=n.n(ce);var ae={onSingUp:function(t){return function(e){e(Lt()),N.a.post("/users/signup",t).then((function(t){var n=t.data;e(Tt(n)),Kt(n.token)})).catch((function(t){return e(Rt(t.massage))}))}}},oe=Object(u.b)(null,ae)((function(t){var e=t.onSingUp,n=y(""),r=y(""),a=y("");return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=new FormData(t.target),c={name:n.get("name"),email:n.get("email"),password:n.get("password")};e(c)},className:re.a.form,children:[Object(c.jsx)(f,Object(s.a)({label:"Name"},n)),Object(c.jsx)(f,Object(s.a)({label:"Email",type:"email"},r)),Object(c.jsx)(f,Object(s.a)({label:"Password",type:"password"},a)),Object(c.jsx)(M,{text:"\u0412\u043e\u0439\u0442\u0438"})]})})),ie=n(7);var ue,se,be,je,le,Oe,fe,de,he,me=Object(u.b)((function(t){return{isAuthorized:yt(t),token:Ct(t)}}),(function(t){return{fetchCurrentUser:function(){return t((function(t){t(Qt()),N.a.get("/users/current").then((function(e){var n=e.data;t(Bt(n))})).catch((function(e){return t(Zt(e.massage))}))}))}}}))((function(t){var e=t.isAuthorized,n=t.fetchCurrentUser,a=t.token;return Object(r.useEffect)((function(){a&&Kt(a),a&&!e&&n()})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ie.b,{path:St.home,component:Gt}),e?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(ie.d,{children:[Object(c.jsx)(ie.b,{path:St.contacts,component:At}),Object(c.jsx)(ie.a,{to:St.contacts})]})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(ie.d,{children:[Object(c.jsx)(ie.b,{path:St.register,exact:!0,component:oe}),Object(c.jsx)(ie.b,{path:St.login,exact:!0,component:ne}),Object(c.jsx)(ie.a,{to:St.login})]})})]})})),pe=n(62),xe=n(29),_e=n(2),ge=n(11),ve=Object(k.c)("",Object(_e.a)({},L,(function(t,e){return e.payload}))),Ae=Object(k.c)([],(ue={},Object(_e.a)(ue,R,(function(t,e){var n=e.payload;return Object(xe.a)(n)})),Object(_e.a)(ue,z,(function(t,e){return[e.payload].concat(Object(xe.a)(t))})),Object(_e.a)(ue,q,(function(t,e){var n=e.payload;return Object(xe.a)(t.filter((function(t){return t.id!==n})))})),ue)),we=Object(k.c)(!1,(se={},Object(_e.a)(se,T,(function(){return!0})),Object(_e.a)(se,R,(function(){return!1})),Object(_e.a)(se,F,(function(){return!1})),Object(_e.a)(se,E,(function(){return!0})),Object(_e.a)(se,z,(function(){return!1})),Object(_e.a)(se,I,(function(){return!1})),Object(_e.a)(se,D,(function(){return!0})),Object(_e.a)(se,q,(function(){return!1})),Object(_e.a)(se,U,(function(){return!1})),se)),Ce=Object(k.c)(null,(be={},Object(_e.a)(be,F,(function(t,e){return e.payload})),Object(_e.a)(be,I,(function(t,e){return e.payload})),Object(_e.a)(be,U,(function(t,e){return e.payload})),be)),ye=Object(ge.c)({filter:ve,items:Ae,loading:we,error:Ce}),Se=Object(k.c)("",(je={},Object(_e.a)(je,Et,(function(t,e){return e.payload.token})),Object(_e.a)(je,Tt,(function(t,e){return e.payload.token})),Object(_e.a)(je,Pt,(function(){return""})),je)),Ne=Object(k.c)("",(le={},Object(_e.a)(le,Tt,(function(t,e){return e.payload.user.name})),Object(_e.a)(le,Et,(function(t,e){return e.payload.user.name})),Object(_e.a)(le,Pt,(function(){return""})),Object(_e.a)(le,Bt,(function(t,e){return e.payload.name})),le)),ke=Object(k.c)("",(Oe={},Object(_e.a)(Oe,Tt,(function(t,e){return e.payload.user.email})),Object(_e.a)(Oe,Et,(function(t,e){return e.payload.user.email})),Object(_e.a)(Oe,Pt,(function(){return""})),Object(_e.a)(Oe,Bt,(function(t,e){return e.payload.email})),Oe)),Le=Object(k.c)(!1,(fe={},Object(_e.a)(fe,Dt,(function(){return!0})),Object(_e.a)(fe,Bt,(function(){return!0})),Object(_e.a)(fe,Zt,(function(){return!1})),Object(_e.a)(fe,Et,(function(){return!0})),Object(_e.a)(fe,Tt,(function(){return!0})),Object(_e.a)(fe,Pt,(function(){return!1})),fe)),Te=Object(k.c)(!1,(de={},Object(_e.a)(de,Ft,(function(){return!0})),Object(_e.a)(de,Et,(function(){return!1})),Object(_e.a)(de,zt,(function(){return!1})),Object(_e.a)(de,Lt,(function(){return!0})),Object(_e.a)(de,Tt,(function(){return!1})),Object(_e.a)(de,Rt,(function(){return!1})),Object(_e.a)(de,Ut,(function(){return!0})),Object(_e.a)(de,Pt,(function(){return!1})),Object(_e.a)(de,Ht,(function(){return!1})),Object(_e.a)(de,Qt,(function(){return!0})),Object(_e.a)(de,Bt,(function(){return!1})),Object(_e.a)(de,Zt,(function(){return!1})),Object(_e.a)(de,It,(function(){return!0})),Object(_e.a)(de,Dt,(function(){return!1})),Object(_e.a)(de,qt,(function(){return!1})),de)),Re=Object(k.c)(null,(he={},Object(_e.a)(he,Rt,(function(t,e){return e.payload})),Object(_e.a)(he,zt,(function(t,e){return e.payload})),Object(_e.a)(he,Ht,(function(t,e){return e.payload})),Object(_e.a)(he,qt,(function(t,e){return e.payload})),Object(_e.a)(he,Zt,(function(t,e){return e.payload})),he)),Fe=Object(ge.c)({email:ke,name:Ne,token:Se,isAuthorized:Le,loading:Te,error:Re}),Ee=n(63),ze=n.n(Ee),Ie=n(17);N.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var De={key:"token",storage:ze.a,whitelist:["token"]},qe=Object(k.a)({reducer:{contacts:ye,user:Object(Ie.g)(De,Fe)},middleware:Object(k.d)({serializableCheck:{ignoredActions:[Ie.a,Ie.f,Ie.b,Ie.c,Ie.d,Ie.e]}}),devTools:!1}),Ue={store:qe,persistor:Object(Ie.h)(qe)};n(127);o.a.render(Object(c.jsx)(u.a,{store:Ue.store,children:Object(c.jsx)(pe.a,{persistor:Ue.persistor,children:Object(c.jsx)(i.a,{children:Object(c.jsx)(me,{})})})}),document.getElementById("root"))},23:function(t,e,n){t.exports={container:"Header_container__ScgN2",list:"Header_list__1PifU",active:"Header_active__25m9-"}},28:function(t,e,n){t.exports={container:"Input_container__YZ6dt",label:"Input_label__1v0Qy",input:"Input_input__1DSIe",placeholderReverse:"Input_placeholderReverse__1Wh7h",placeholder:"Input_placeholder__B2M1T"}},33:function(t,e,n){t.exports={container:"ContactList_container__20wFh",loading:"ContactList_loading___Sw-4"}},48:function(t,e,n){t.exports={container:"Notification_container__2iV30"}},49:function(t,e,n){t.exports={appear:"withTransitionLeftAnimation_appear__3Db-4",appearActive:"withTransitionLeftAnimation_appearActive__1Kq7M",enter:"withTransitionLeftAnimation_enter__I4Cpb",enterActive:"withTransitionLeftAnimation_enterActive__1_wz8",exit:"withTransitionLeftAnimation_exit__1CqTh",exitActive:"withTransitionLeftAnimation_exitActive__HxkpT"}},50:function(t,e,n){t.exports={appear:"withTransitionRightAnimation_appear__3foyh",appearActive:"withTransitionRightAnimation_appearActive__3Lobe",enter:"withTransitionRightAnimation_enter__3uQqX",enterActive:"withTransitionRightAnimation_enterActive__16yZ_",exit:"withTransitionRightAnimation_exit__QITth",exitActive:"withTransitionRightAnimation_exitActive__4YhhY"}},51:function(t,e,n){t.exports={container:"ContactForm_container__2s60s"}},52:function(t,e,n){t.exports={button:"ButtonSubmit_button__O9a7D"}},54:function(t,e,n){t.exports={button:"ButtonDelete_button__3sRNA"}},55:function(t,e,n){t.exports={item:"ContactItem_item__37QT6"}},56:function(t,e,n){t.exports={enter:"withScaleAnimation_enter__1kmoK",enterActive:"withScaleAnimation_enterActive__3QANF",exit:"withScaleAnimation_exit__3ZaIq",exitActive:"withScaleAnimation_exitActive__1eCPS"}},57:function(t,e,n){t.exports={container:"Filter_container__3MZA5"}},58:function(t,e,n){t.exports={color:"Logo_color__2Lf1v"}},59:function(t,e,n){t.exports={container:"PhonebookPage_container__1-HKo"}},60:function(t,e,n){t.exports={form:"Login_form__3oV44"}},61:function(t,e,n){t.exports={form:"Registe_form__2v7xT"}}},[[128,1,2]]]);
//# sourceMappingURL=main.e2f6f304.chunk.js.map